<div class="container mx-auto px-4 py-8">
  @if (loading) {
    <div class="flex justify-center items-center h-64">
      <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-marvel-red"></div>
    </div>
  } @else if (serie) {
    <div class="flex flex-col md:flex-row gap-8 animate-fade-in-up">
      <div class="w-full md:w-1/3 lg:w-1/4 flex-shrink-0">
        <div class="rounded-lg overflow-hidden shadow-2xl">
          <img 
            [src]="movieService.getPosterUrl(serie.poster_path)" 
            [alt]="serie.name"
            class="w-full h-auto object-cover"
          >
        </div>
      </div>

      <div class="flex-grow text-white">
        <div class="flex items-center flex-wrap gap-4 mb-2">
          <h1 class="text-4xl md:text-5xl font-bold">{{ serie.name }}</h1>
          
          <button 
            (click)="toggleFavorite()" 
            class="p-2 rounded-full border border-marvel-red hover:bg-marvel-red/20 transition"
            [title]="isFavorite ? 'Quitar de favoritos' : 'Agregar a favoritos'">
            <span class="text-2xl">{{ isFavorite ? '‚ù§Ô∏è' : 'ü§ç' }}</span>
          </button>
        </div>
        
        <div class="flex items-center gap-4 text-gray-400 mb-6">
          <span class="border border-gray-600 px-2 py-1 rounded">
            {{ serie.first_air_date | date:'yyyy' }}
          </span>
          <div class="flex items-center text-marvel-red font-bold">
            <span class="text-xl mr-1">‚òÖ</span> {{ serie.vote_average | number:'1.1-1' }}
          </div>
        </div>

        <h2 class="text-2xl font-bold mb-2 border-b border-gray-700 pb-2">Sinopsis</h2>
        <p class="text-gray-300 leading-relaxed text-lg mb-8">
          {{ serie.overview || 'No hay descripci√≥n disponible en espa√±ol.' }}
        </p>

        <button (click)="goBack()" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded transition">
          ‚Üê Volver
        </button>
      </div>
    </div>

    <div 
      class="fixed inset-0 -z-10 bg-cover bg-center opacity-10 blur-xl scale-110"
      [style.backgroundImage]="'url(' + movieService.getPosterUrl(serie.poster_path) + ')'"
    ></div>

  } @else {
    <div class="text-center text-xl text-white">
      No se encontr√≥ la serie.
    </div>
  }
</div>